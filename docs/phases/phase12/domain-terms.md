# Phase 12: 高度な可視化 - 用語集

## 可視化関連用語

### ヒートマップ (Heatmap)

データの値を色の濃淡で表現する可視化手法。

**モノポリーでの用途**:
- ボードのマス目ごとの停止回数を可視化
- マス目ごとの収益性（レント収入）を可視化

**実装**:
- 色スケール: 白（低い値）→ 青（中間値）→ 濃い青（高い値）
- SVG矩形グリッドとして実装
- 40マスのモノポリーボードを11x11グリッドに配置

**例**:
- 停止回数ヒートマップ: GO, Jailなど頻繁に止まるマスが濃い色
- 収益性ヒートマップ: 高レント物件が濃い色

### レーダーチャート (Radar Chart)

別名: スパイダーチャート、星型チャート

複数の指標を多角形として可視化する手法。中心から外側に向かって値が大きくなる。

**モノポリーでの用途**:
- 複数の戦略を多角的に比較
- 各戦略の強み・弱みを視覚的に理解

**軸の例**:
- 勝率
- 平均最終資産
- プロパティ獲得数
- 破産回避率
- ゲーム効率性（短いターンで勝つ）

**実装**:
- N角形（Nは指標数）
- 各軸は0-1に正規化
- 複数の戦略を半透明ポリゴンで重ねて表示

**利点**:
- 一目で戦略のバランスが分かる
- 複数戦略の違いが明確

### 散布図 (Scatter Plot)

2つの変数の関係を点で表す可視化手法。

**モノポリーでの用途**:
- X軸: 勝率
- Y軸: 平均最終資産
- 各点が1つの戦略を表す

**分析**:
- 右上にある戦略: 勝率が高く、資産も多い（優秀）
- 左下にある戦略: 勝率が低く、資産も少ない（弱い）
- 右下: 勝率は高いが資産は少ない（攻撃的）
- 左上: 勝率は低いが資産は多い（安定志向だが勝ちにくい）

**実装**:
- 円で各戦略を表示
- ラベルで戦略名を表示
- 色で戦略を区別

## 統計関連用語

### ボード統計 (Board Statistics)

ボードのマス目ごとの統計データ。

**収集データ**:
- **停止回数 (Landing Count)**: そのマスに止まった回数
- **レント収入 (Rent Collected)**: そのマスで得られた総レント収入
- **所有者分布 (Ownership Distribution)**: どの戦略が何回そのマスを所有したか

**用途**:
- ヒートマップ生成
- プロパティの価値分析
- ボード上の「ホットスポット」の特定

### 位置統計 (Position Statistics)

1つのマス目に関する統計。

**データ項目**:
- **position**: ボード上の位置（0-39）
- **landedCount**: 停止回数
- **totalRentCollected**: 総レント収入
- **ownershipDistribution**: 所有者分布

**計算指標**:
- **averageLandedPerGame**: ゲームあたりの平均停止回数
- **averageRentPerGame**: ゲームあたりの平均レント収入

## レポート関連用語

### 研究論文形式レポート (Research Report)

学術論文のような構造のレポート。

**構成**:
1. **Abstract（要約）**: 研究目的、手法、主要な結果
2. **Methodology（手法）**: シミュレーション設定、戦略の説明
3. **Results（結果）**: グラフ、表、分析
4. **Discussion（考察）**: 結果の解釈、意味
5. **Conclusion（結論）**: まとめ、今後の課題
6. **References（参考文献）**

**用途**:
- データ分析の成果を学術的に発表
- 研究レポート作成の土台

**Phase 12の実装**:
- Abstract, Methodology, Resultsは自動生成
- Discussion, Conclusion, Referencesはプレースホルダー（手動で編集）

### PDF出力 (PDF Export)

HTMLレポートをPDF形式に変換する機能。

**実装方針**:
- 外部ツール `wkhtmltopdf` を使用
- HTML → PDF変換

**利点**:
- 印刷に適した形式
- 配布しやすい
- ページレイアウトが固定

**依存関係**:
- `wkhtmltopdf` のインストールが必要
- インストールされていない場合はエラーメッセージを表示

**インストール**:
```bash
# Ubuntu/Debian
sudo apt-get install wkhtmltopdf

# macOS
brew install wkhtmltopdf

# Windows
# https://wkhtmltopdf.org/ からダウンロード
```

## 可視化技術用語

### SVG (Scalable Vector Graphics)

ベクター形式の画像フォーマット。XMLベース。

**利点**:
- 拡大しても画質が劣化しない
- HTMLに直接埋め込める
- CSSでスタイリング可能
- テキストとして編集可能

**Phase 12での使用**:
- すべてのチャート（ヒートマップ、レーダーチャート、散布図）をSVGで生成
- HTMLレポートに直接埋め込み

### 色補間 (Color Interpolation)

2つの色の間を滑らかに変化させる技術。

**Phase 12での使用**:
- ヒートマップの色スケール
- 0.0（白: #FFFFFF）→ 1.0（濃い青: #0000FF）

**アルゴリズム**:
```kotlin
fun interpolateColor(intensity: Double): String {
    val r = (255 * (1 - intensity)).toInt()
    val g = (255 * (1 - intensity)).toInt()
    val b = 255
    return String.format("#%02x%02x%02x", r, g, b)
}
```

**結果**:
- intensity = 0.0 → #FFFFFF（白）
- intensity = 0.5 → #7F7FFF（薄い青）
- intensity = 1.0 → #0000FF（青）

### 正規化 (Normalization)

異なるスケールのデータを0-1の範囲に変換すること。

**用途**:
- レーダーチャートで異なる指標を同じスケールで比較
- ヒートマップで色の濃さを計算

**計算式**:
```
normalized_value = (value - min_value) / (max_value - min_value)
```

**例**:
- 勝率: すでに0-1の範囲 → そのまま使用
- 平均最終資産: $0-$5000 → 5000で割って正規化
- プロパティ数: 0-28 → 28で割って正規化

## データフロー用語

### Monte Carlo シミュレーション

ランダムなサンプリングを繰り返して結果を推定する手法。

**モノポリーでの適用**:
- サイコロの目がランダム
- 複数回のゲームを実行して統計を収集
- 戦略の期待値（勝率、平均資産など）を推定

**Phase 12での使用**:
- 研究レポートのMethodologyセクションで言及
- "Monte Carlo simulations" として記述

### データ集約 (Data Aggregation)

複数のゲーム結果を集計して統計を計算すること。

**Phase 12での実装**:
```
MultiGameResult (1000ゲーム)
    ↓
BoardStatisticsCalculator
    ↓
BoardStatistics (マス目ごとの集計)
```

**集約操作**:
- 合計 (sum): 停止回数、レント収入
- 平均 (average): ゲームあたりの停止回数
- カウント (count): 所有者分布

## 作成日

2025-11-16
