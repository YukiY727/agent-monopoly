# Phase 11: 戦略パラメータ調整 - ドメイン用語

## パラメータ管理関連の用語

### Parameter（パラメータ）

戦略の挙動を制御する変数。例えば、ROI戦略の`minROI`（最低ROI閾値）やConservative戦略の`minCashReserve`（最低現金残高）など。

### Default Parameter（デフォルトパラメータ）

戦略のコンストラクタで定義されたパラメータのデフォルト値。設定ファイルで値が指定されていない場合、この値が使用される。

### Parameter Configuration（パラメータ設定）

戦略のパラメータを定義した外部設定ファイル（JSON形式）。コードを変更せずにパラメータを調整できるようにする。

### Parameter Validation（パラメータバリデーション）

パラメータ値が有効な範囲内にあるかをチェックするプロセス。例えば、ROIが0.0～1.0の範囲内か、現金残高が0以上かなどを確認。

## グリッドサーチ関連の用語

### Grid Search（グリッドサーチ）

複数のパラメータの組み合わせを網羅的に試し、最適なパラメータセットを見つける手法。
各パラメータに複数の候補値を定義し、それらのカルテシアン積（全組み合わせ）を生成して評価する。

**例**:
- `minROI`: [0.10, 0.15, 0.20]
- `minCashReserve`: [200, 300]
- 組み合わせ数: 3 × 2 = 6通り

### Cartesian Product（カルテシアン積）

複数の集合の全組み合わせを生成する数学的操作。
グリッドサーチでは、各パラメータの候補値リストのカルテシアン積を計算する。

**例**:
```
A = [1, 2]
B = [x, y]
A × B = [(1,x), (1,y), (2,x), (2,y)]
```

### Parameter Space（パラメータ空間）

全てのパラメータとその取りうる値の範囲を合わせた多次元空間。
グリッドサーチはこの空間を離散的に探索する。

### Hyperparameter（ハイパーパラメータ）

機械学習の文脈では、学習アルゴリズム自体を制御するパラメータ。
このプロジェクトでは、戦略の挙動を制御するパラメータを指す（厳密には機械学習ではないが、概念は類似）。

### Hyperparameter Tuning（ハイパーパラメータチューニング）

最適なパラメータセットを見つけるプロセス。
グリッドサーチ、ランダムサーチ、ベイズ最適化などの手法がある。

### Search Space（探索空間）

パラメータの組み合わせとして可能な全ての状態の集合。
グリッドサーチでは、この空間のサブセットを離散的に探索する。

## 評価指標関連の用語

### Win Rate（勝率）

グリッドサーチで最も重要な評価指標。特定のパラメータセットでの戦略の勝利確率。

### Average Final Assets（平均最終資産）

ゲーム終了時のプレイヤーの平均資産額。勝率とは異なる視点からの性能評価。

### Games Per Combination（組み合わせあたりのゲーム数）

各パラメータセットを評価するために実行するゲーム数。
多いほど信頼性が高いが、計算時間も増加する。

### Best Parameter Set（最良パラメータセット）

グリッドサーチの結果、最も高い勝率を達成したパラメータの組み合わせ。

### Baseline（ベースライン）

比較の基準となる戦略やパラメータセット。
例えば、デフォルトパラメータでの性能をベースラインとして、他のパラメータセットと比較する。

## JSON設定ファイル関連の用語

### Configuration File（設定ファイル）

戦略のパラメータやグリッドサーチの設定を定義したJSONファイル。

### Strategy Configuration（戦略設定）

個々の戦略に対するパラメータ設定。
`strategy-params.json`のように、複数の戦略のパラメータを1つのファイルにまとめることができる。

### Grid Search Configuration（グリッドサーチ設定）

グリッドサーチの実行に必要な設定：
- 対象戦略
- パラメータの候補値リスト
- 対戦相手の設定
- 組み合わせあたりのゲーム数

### JSON Serialization（JSONシリアライゼーション）

Kotlinのデータクラスとjson形式の相互変換。
`kotlinx.serialization`ライブラリを使用して実現。

## 最適化関連の用語

### Optimization（最適化）

目的関数（この場合は勝率）を最大化または最小化するパラメータセットを見つけるプロセス。

### Global Optimum（大域的最適解）

全探索空間において最も良い解。グリッドサーチは全組み合わせを試すため、定義した探索空間内では大域的最適解を見つけられる。

### Local Optimum（局所的最適解）

ある局所的な範囲では最も良い解だが、大域的には最適でない解。
グリッドサーチは全組み合わせを試すため、局所解に陥ることはない（ただし、離散的な探索のため、真の最適値を見逃す可能性はある）。

### Exhaustive Search（全探索）

可能な全ての組み合わせを試す探索手法。
グリッドサーチは全探索の一種。

### Random Search（ランダムサーチ）

パラメータをランダムにサンプリングして評価する手法。
グリッドサーチよりも計算効率が良い場合がある（Phase 11では未実装）。

### Bayesian Optimization（ベイズ最適化）

過去の評価結果を活用して、次に試すべきパラメータセットを賢く選択する最適化手法。
グリッドサーチより効率的だが、実装が複雑（Phase 11では未実装）。

## パフォーマンス関連の用語

### Parallelization（並列化）

複数のパラメータセットの評価を並列に実行すること。
Phase 8の並列実行機能を活用してグリッドサーチを高速化。

### Combination Explosion（組み合わせ爆発）

パラメータ数や候補値数が増えると、組み合わせ数が指数関数的に増加する現象。

**例**:
- パラメータ5個、各4候補値: 4^5 = 1,024通り
- パラメータ10個、各4候補値: 4^10 = 1,048,576通り

### Early Stopping（早期停止）

明らかに性能が悪いパラメータセットの評価を途中で打ち切る手法。
Phase 11では未実装だが、将来的な拡張候補。

## 実験管理関連の用語

### Reproducibility（再現性）

同じ設定で実験を再実行したときに、同じ結果が得られること。
設定ファイルを使用することで、実験の再現性が向上する。

### Experiment Tracking（実験追跡）

どのパラメータセットでどの結果が得られたかを記録・管理すること。
グリッドサーチの結果をCSVファイルとして保存することで実現。

### Parameter Log（パラメータログ）

実験で使用したパラメータセットの記録。
設定ファイルを保存しておくことで、後から同じ実験を再現可能。

## まとめ

Phase 11では、これらの用語を理解することで、
戦略のパラメータ調整とグリッドサーチによる最適化が可能になります。
特に、グリッドサーチ、カルテシアン積、ハイパーパラメータチューニングなどの概念は、
実験的にゲーム戦略を改善する上で重要な役割を果たします。
