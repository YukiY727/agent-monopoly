# ADR-0004: レイヤードアーキテクチャの採用

**ステータス**: 承認済み  
**日付**: 2025-11-12  
**決定者**: プロジェクトアーキテクト  
**関連ADR**: ADR-0001 (モノリスアーキテクチャ)

---

## 決定 (Decision)

**選択**: レイヤードアーキテクチャを採用

Phase 1-7ではシンプルなレイヤー分離（Domain + CLI）、必要に応じてApplication Layerを追加。

---

## コンテキスト (Context)

モノリス内部の構造化手法を選択する必要があります。

---

## 選択肢

1. **レイヤードアーキテクチャ**: シンプル、標準的
2. **ヘキサゴナルアーキテクチャ**: テスタビリティ高いが複雑
3. **クリーンアーキテクチャ**: 最強のドメイン保護だが最も複雑

---

## トレードオフ分析

### 得られるもの

- ✅ **シンプルさ**: 理解しやすい、学習コスト低
- ✅ **開発速度**: 迅速に開発可能
- ✅ **標準的**: 多くの開発者に馴染みがある
- ✅ **段階的導入**: 必要に応じてレイヤー追加

### 失うもの

- ❌ **ドメイン保護の強固さ**: ヘキサゴナル/クリーンほど強固ではない

### 判断

Phase 1-7ではシンプルさを優先。複雑なアーキテクチャは過剰。

---

## 実装

```
com.monopoly
├── cli/                 # Presentation Layer
├── domain/              # Domain Layer
│   ├── model/          # エンティティ、値オブジェクト
│   ├── service/        # ドメインサービス
│   └── strategy/       # 戦略パターン
└── infrastructure/     # Infrastructure Layer (将来)
```

---

## 参考資料

- [パターン比較](../patterns-comparison.md#レイヤリングパターン)
- Martin Fowler, "Patterns of Enterprise Application Architecture"

**作成日**: 2025-11-12
